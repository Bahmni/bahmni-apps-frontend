// Layout styles for the ClinicalLayout component
@use "@carbon/react/scss/spacing" as *;
@use "@carbon/react/scss/breakpoint" as *;
@use "@carbon/react/scss/colors" as *;
@use "@carbon/react/scss/layer" as *;
@use "@carbon/react/scss/theme" as *;

.layout {
  display: flex;
  flex-direction: column;
  height: 100vh; // Full viewport height
  width: 100%; // Full width but not forcing vw which can cause overflow
  overflow: hidden; // Prevent scrolling of the overall layout
}

.body {
  display: grid;
  grid-template-areas:
    "header patient-details"
    "header main-display";
  grid-template-columns: 16rem 1fr;
  left: 16rem;
  grid-template-rows: auto 1fr;
  flex: 1; // Take all remaining space
  width: calc(100vw - 16rem);
  height: calc(100vh - 3rem);
  margin-top: 1rem;
}

.collapse {
  width: calc(40vw - 3rem);
  left: 3rem;
}

.patientHeader {
  grid-area: patient-details;
  border-bottom: 1px solid $border-subtle-01; // Carbon border token
  position: fixed;
  width: inherit;
  left: inherit;
  z-index: 1000;
}

.mainDisplay {
  grid-area: main-display;
  overflow-y: auto;
  position: fixed;
  bottom: 0;
  left: inherit;
  height: calc(100vh - 10rem);
  width: inherit;
}

.actionArea {
  position: fixed;
  top: 3rem !important;
  right: 0;
  height: calc(100vh - 3rem) !important;
  z-index: 1000;
}

// Responsive adjustments using Carbon breakpoints
@include breakpoint-down(lg) {
  .body {
    grid-template-areas:
      "header patient-details"
      "header main-display";
    grid-template-columns: 3rem 1fr;
    left: 3rem;
    grid-template-rows: auto auto 1fr;
  }

  .patientHeader {
    left: 3rem;
    width: fit-content;
  }

  .mainDisplay {
    width: calc(100vw - 3rem);
    left: 3rem;
  }

  .actionArea {
    left: 3rem;
  }

  .collapse {
    display: none;
  }
}
