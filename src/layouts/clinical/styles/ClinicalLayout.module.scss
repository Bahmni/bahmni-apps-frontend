// Layout styles for the ClinicalLayout component
@use "@carbon/react/scss/spacing" as *;
@use "@carbon/react/scss/breakpoint" as *;
@use "@carbon/react/scss/colors" as *;
@use "@carbon/react/scss/layer" as *;
@use "@carbon/react/scss/theme" as *;

.layout {
  display: flex;
  flex-direction: column;
  height: 100vh; // Full viewport height
  width: 100%; // Full width but not forcing vw which can cause overflow
  overflow: hidden; // Prevent scrolling of the overall layout
}

.header {
  width: 100%;
  z-index: 2; // Higher z-index to stay on top
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  flex: 0 0 auto; // Don't grow, don't shrink, auto basis
}

.body {
  display: grid;
  grid-template-areas:
    "sidebar patient-details"
    "sidebar main-display";
  grid-template-columns: 15rem 1fr;
  grid-template-rows: auto 1fr;
  flex: 1; // Take all remaining space
  width: 100%;
  height: 100%;
  overflow: hidden; // Prevent overall body scrolling
}

.patientDetails {
  grid-area: patient-details;
  position: sticky;
  border-bottom: 1px solid $border-subtle-01; // Carbon border token
}

.sidebar {
  grid-area: sidebar;
  padding: $spacing-04; // Carbon spacing token (16px)
  padding-bottom: $spacing-07; // Carbon spacing token (32px)
  overflow-y: auto;
  height: 120%;
  border-right: 1px solid $border-subtle-01; // Carbon border token
}

.mainDisplay {
  grid-area: main-display;
  padding: $spacing-04; // Carbon spacing token (16px)
  padding-bottom: $spacing-07; // Carbon spacing token (32px)
  overflow-y: auto;
  height: 100%;
}

// Responsive adjustments using Carbon breakpoints
@include breakpoint-down(md) {
  .body {
    grid-template-areas:
      "patient-details"
      "sidebar"
      "main-display";
    grid-template-columns: 1fr;
    grid-template-rows: auto auto 1fr;
  }

  .sidebar {
    border-right: none;
    border-bottom: 1px solid $border-subtle-01; // Carbon border token
    max-height: $spacing-13; // Carbon spacing token (~200px)
  }
}
